import React from 'react';
import { Source, Layer } from 'react-map-gl';
import * as turf from '@turf/helpers';

interface Props {
  lines: number[][][];
}

const dataLayer = {
  id: 'path_layer',
  type: 'line',
  paint: {
    'line-width': 3,
    'line-color': '#667eea',
  },
};

const GeoJsonPath: React.FC<Props> = ({ lines }) => {
  var multiLine = turf.multiLineString(lines);

  return (
    <Source type="geojson" data={multiLine}>
      <Layer {...dataLayer} />
    </Source>
  );
};

export default GeoJsonPath;

const data = [
  [
    [-117.72884, 34.107005, 382.3],
    [-117.728882, 34.107005, 380.4],
    [-117.728921, 34.106914, 380.4],
    [-117.72905, 34.106914, 380.4],
    [-117.729061, 34.106475, 378.6],
    [-117.727463, 34.106477, 380.96],
    [-117.727113, 34.106546, 381.05],
    [-117.726281, 34.106566, 382.67],
    [-117.725828, 34.106463, 382.84],
    [-117.725447, 34.106233, 383.6],
    [-117.724522, 34.105588, 382.2],
    [-117.724206, 34.105461, 382.49],
    [-117.723857, 34.105361, 382.64],
    [-117.723645, 34.10532, 382.69],
    [-117.722418, 34.105314, 383],
    [-117.722436, 34.104385, 381.4],
    [-117.7224, 34.10247, 377.2],
    [-117.722427, 34.101623, 374.6],
    [-117.720386, 34.101628, 376.2],
  ],
  [
    [-117.720386, 34.101628, 376.2],
    [-117.716677, 34.101633, 377.2],
    [-117.71669, 34.105383, 390],
    [-117.715618, 34.105384, 393.6],
    [-117.715612, 34.106989, 396.4],
    [-117.714934, 34.106984, 397],
    [-117.714919, 34.10704, 397],
  ],
];
